# =============================================================================
# MHK-GPT v2 — Environment Variables
# Copy this file to .env and fill in your real values.
# =============================================================================

# =============================================================================
# API
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_ENV=development
API_RELOAD=true
COMPANY_NAME=MHK Tech Inc

# =============================================================================
# OpenAI
# =============================================================================
OPENAI_API_KEY=sk-your-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=1024

# =============================================================================
# Qdrant Vector DB
# =============================================================================
# Cloud (use this OR local, cloud takes precedence)
QDRANT_URL=
QDRANT_API_KEY=

# Local
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=company_docs
QDRANT_VECTOR_SIZE=1536

# =============================================================================
# Embeddings & Retrieval
# =============================================================================
EMBEDDING_PROVIDER=openai
RETRIEVAL_STRATEGY=hybrid
RETRIEVAL_TOP_K=20
HYBRID_KEYWORD_WEIGHT=0.3
HYBRID_SEMANTIC_WEIGHT=0.7

# =============================================================================
# Redis (session store + job cache + cost log)
# =============================================================================
REDIS_URL=redis://localhost:6379

# =============================================================================
# Agent Configuration
# =============================================================================
INTENT_CONFIDENCE_THRESHOLD=0.85
MAX_CLARIFICATION_TURNS=2
MAX_CONVERSATION_HISTORY=10

# =============================================================================
# Resilience
# =============================================================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30
MAX_RETRIES=3

# =============================================================================
# Cache
# =============================================================================
JOB_CACHE_TTL_SECONDS=3600
EMBEDDING_CACHE_SIZE=100

# =============================================================================
# JobDiva API
# =============================================================================
JOBDIVA_CLIENT_ID=2156
JOBDIVA_USERNAME=hr@mhktechinc.com
JOBDIVA_PASSWORD=Houston@77070
JOBDIVA_BASE_URL=https://api.jobdiva.com/apiv2

# =============================================================================
# Email — SendGrid (primary) + SMTP Gmail (fallback)
# Set SENDGRID_API_KEY to use SendGrid; leave empty to fall back to SMTP.
# =============================================================================
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=backuptata2005@gmail.com

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=backuptata2005@gmail.com
SMTP_PASSWORD=your-gmail-app-password-here
SMTP_FROM_EMAIL=backuptata2005@gmail.com

# =============================================================================
# Google Calendar (optional)
# Leave blank to fall back to Calendly-only mode.
# =============================================================================
GOOGLE_CALENDAR_ID=backuptata2005@gmail.com
GOOGLE_SERVICE_ACCOUNT_JSON=

# =============================================================================
# Calendly Links — one per meeting duration (easy to update, no code changes)
# =============================================================================
CALENDLY_15MIN_URL=https://calendly.com/n200029-rguktn/sample-meet
CALENDLY_30MIN_URL=https://calendly.com/n200029-rguktn/sample-meet
CALENDLY_60MIN_URL=https://calendly.com/n200029-rguktn/sample-meet

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_CHAT=20/minute
RATE_LIMIT_UPLOAD=5/minute

# =============================================================================
# Security
# =============================================================================
SECRET_KEY=change-me-in-production
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=data/logs/backend/app.log

# =============================================================================
# Document Processing
# =============================================================================
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_FILE_SIZE_MB=50
